## 7. Vista en tarjetas + CSS con Vite (npm run build)

En este punto vamos a **cambiar el listado “tipo tabla” por un listado “tipo cards”** (como productos) y a **cargar los estilos con Vite**, ya que en el proyecto usamos `npm run build`.

---

### 7.1. Estructura de archivos (recomendada)

- CSS principal:
  - `resources/css/app.css`
- Vista del listado:
  - `resources/views/equips/index.blade.php`
- Layout principal:
  - `resources/views/layouts/app.blade.php`

---

### 7.2. Cargar el CSS con Vite en el layout

En tu layout `resources/views/layouts/app.blade.php`, dentro del `<head>`:

```blade
@vite(['resources/css/app.css', 'resources/js/app.js'])
```

> Si no tienes `resources/js/app.js`, puedes dejarlo así:
```blade
@vite(['resources/css/app.css'])
```

---

### 7.3. Escribir el CSS (grid de tarjetas)

En `resources/css/app.css` añade (o pega) esto:

```css
.title {
  margin-bottom: 16px;
}

.grid-cards {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
  gap: 16px;
}

.card {
  border: 1px solid #e5e7eb;
  border-radius: 14px;
  padding: 14px;
  background: white;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.card__header {
  display: flex;
  align-items: start;
  justify-content: space-between;
  gap: 12px;
}

.card__title {
  margin: 0;
  font-size: 18px;
}

.card__badge {
  font-size: 12px;
  padding: 4px 8px;
  border: 1px solid #e5e7eb;
  border-radius: 999px;
}

.card__body p {
  margin: 6px 0;
}

.card__footer {
  display: flex;
  gap: 8px;
  margin-top: 6px;
  flex-wrap: wrap;
}

.btn {
  border: 1px solid #e5e7eb;
  padding: 8px 10px;
  border-radius: 10px;
  background: #fff;
  cursor: pointer;
  text-decoration: none;
  color: inherit;
  font-size: 14px;
}

.btn--primary {
  background: #111827;
  color: white;
  border-color: #111827;
}

.btn--ghost {
  background: #f9fafb;
}

.btn--danger {
  background: #fee2e2;
  border-color: #fecaca;
}

.inline { display: inline; }
```

---

### 7.4. Cambiar la vista: de tabla a tarjetas

En `resources/views/equips/index.blade.php` (listado), usa un grid de cards:

```blade
@extends('layouts.app')

@section('content')
<div class="container">
  <h1 class="title">Listado de equipos</h1>

  <div class="grid-cards">
    @foreach ($equips as $equip)
      <article class="card">
        <header class="card__header">
          <h2 class="card__title">{{ $equip->nom }}</h2>
          <span class="card__badge">ID: {{ $equip->id }}</span>
        </header>

        <div class="card__body">
          <p><strong>Ciudad:</strong> {{ $equip->ciutat ?? '—' }}</p>
          <p><strong>Estadio:</strong> {{ $equip->estadi->nom ?? '—' }}</p>
        </div>

        <footer class="card__footer">
          <a class="btn btn--ghost" href="{{ route('equips.show', $equip) }}">Ver</a>
          <a class="btn btn--primary" href="{{ route('equips.edit', $equip) }}">Editar</a>

          <form method="POST" action="{{ route('equips.destroy', $equip) }}" class="inline">
            @csrf
            @method('DELETE')
            <button class="btn btn--danger" type="submit">Eliminar</button>
          </form>
        </footer>
      </article>
    @endforeach
  </div>
</div>
@endsection
```

> Nota: `{{ $equip->estadi->nom ?? '—' }}` asume que existe la relación `estadi()` en el modelo `Equip`. Si no la tienes, cambia ese campo por otro.

---

### 7.5. Rutas (para que existan `index/show/edit/destroy`)

En `routes/web.php`:

```php
use App\Http\Controllers\EquipController;

Route::resource('equips', EquipController::class);
```

---

### 7.6. Compilar assets (npm run build)

Para que los estilos se vean en producción / en build:

```bash
npm run build
```

---

### 7.7. Objetivo para el alumnado

- Cambiar la “estructura” HTML (tabla → cards)
- Diseñar un CSS totalmente distinto (colores, sombras, tipografías, badges, etc.)
- Aprender a **cargar estilos correctamente con Vite** usando `@vite(...)`
- Entender que Blade solo “pinta” datos y el CSS define la presentación